\chapter{Wprowadzenie}
%TODO TK - ponowana lektura

Cyfrowa analiza obrazów znalazła szerokie zastosowanie w wielu dziedzinach życia. 
Dzięki niej możliwe jest automatyczne uzyskanie istotnych dla użytkownika informacji. 
Przez ostanie kilkadziesiąt lat opracowano tysiące różnych technik i algorytmów wyspecjalizowanych do określonych zadań np. leśne fotopułapki do badania zachowań i migracji zwierząt, systemu kontroli jakości i przebiegu procesu przemysłowego, metody kontroli dostępu poprzez rozpoznawanie twarzy m.in. w smartfonach, algorytmu analizy zdjęć satelitarnych ziemi umożliwiające prognozowanie pogody, sterowanie ruchem drogowym na podstawie obrazu z kamer zamontowanych nad skrzyżowaniami, a także systemy do badania przekroju żołędzia pozwalające określić czy jest dobrym kandydatem na sadzonkę.
%TODO Proszę jeszzce raz sprawdzić czy to zdanie "dobrze się czyta" 


Wzrok ludzki operuje w pewnym zakresie promieniowania elektromagnetycznego zwanego światłem widzialnym. 
Dzisiejsza technologia daje możliwość rejestracji obrazów wykraczających poza to widmo. 
Kamery termowizyjne stają się coraz tańsze i przez to bardziej popularne. 
Dostarczają one informację o temperaturze obserwowanych obiektów. 
Jest to coraz chętniej wykorzystywane np. w weterynarii do określenia miejsc urazów zwierząt, w przemyśle do kontroli jakości artykułów spożywczych, w budownictwie do analizy strat cieplnych w budynkach, w systemach wspomagania kierowcy, przez ratowników do odnajdywania zasypanych ludzi w gruzowiskach, straż graniczną do monitorowania granic, przez wojsko do odnajdywania celów i zagrożeń podczas misji m.in. z wykorzystaniem dronów. \cite{gade2014thermal}. 

Większość systemów wizyjnych służących do rozpoznawania przechodniów jest oparta o~analizę obrazów z zakresu światła widzialnego, bądź podczerwieni. 
W przypadku światła widzialnego można uzyskać bardzo dobre wyniki pod warunkiem że wyszukiwane obiekty są dobrze oświetlone i wyróżniają się swoim kolorem od tła. 
Podczerwień, a szczególnie termowizja, umożliwia detekcję w warunkach nocnych i ograniczonej widoczności.
%TODO OK Proszę jednak opisać czym różni się podczerwień od termo (w senie czujnika) 
%TT w dalszej części rozwinąłem temat
Oba podejścia mają swoje wady i zalety, które wzajemnie się uzupełniają np. duże nasłonecznienia powoduje, że tło termiczne staje się dużo wyższe co utrudnia wyodrębnienie pieszego, natomiast daje idealne warunki do uzyskania dobrej jakości obrazu w zakresie widzialnym \cite{lee2015robust}. 
Połączenie tych dwóch obrazów daje możliwość uzyskania jeszcze lepszej skuteczności rozpoznawania ludzi. 
W pracy \cite{st2007combination} autorzy nazywają ten rozszerzony format jako RGBT (''Red-Green-Blue-Thermal''), natomiast inna praca jako analizę wielospektralną (ang. \textit{Multispectral}) \cite{hwang2015multispectral}, albo po prostu jako połączony obraz z kamery termowizyjnej i wizyjnej \cite{lee2015robust}. 

Skuteczna detekcja obiektów często wymaga dużego zapotrzebowania na zasoby obliczeniowe. 
W wielu przypadkach nie da się uzyskać satysfakcjonującej wydajności -- tak by można było uznać system za działający w czasie rzeczywistym -- wykorzystując jedynie typowy komputer wyposażony w~procesor ogólnego przeznaczenia. 
Stosuje się zatem różne metody akceleracji obliczeń. 
Karty graficzne (GPU ang. \textit{graphics processing unit}) pozwalają na duże zrównoleglenie obliczeń, jednak charakteryzują się znacznym zużyciem energii. %TODO dodać skrót i rozwinięcie GPU
Tworzenie specjalizowanych układów scalonych (ASIC ang. \textit{application-specific integrated circuit}) daje najlepsze rezultaty w implementacji systemu wizyjnego, ale ich opracowanie i produkcja wymaga bardzo dużych nakładów finansowych. %TODO rozwinąc ASIC
Dobre rozwiązanie stanowią układy rekonfigurowalne, które charakteryzują się podobnymi możliwościami w realizacji wyspecjalizowanych zadań co układy ASIC, ale nie wymagają dużych nakładów finansowych w ich tworzeniu. %TODO ta końcówka średnio szczęśliwa, proszę to doprecyzować. (tworznie układów FPGA to wymaga sporetych nakładów - w końcu to też ASIC)

Układy FPGA (ang. \textit{Field-Programmable Gate Array}) umożliwiają zrównoleglenie obliczeń i są szeroko stosowane w systemach wizyjnych. 
Szczególnie chętnie są wykorzystywane do realizacji operacji niskiego poziomu, przygotowując wstępnie obraz do dalszej analizy na wysokim poziomie. 
Przykłady takich operacji to: filtry konwolucyjne, filtry 2D, podpróbkowanie, wykrywanie krawędzi, obliczanie SAD (ang. \textit{sum of absolute differences}) z regionu zainteresowania, obliczanie orientacji krawędzi i histogramów, obliczanie strumieniowo statystyk (wartość maksymalna, minimalna, średnia), zmiana przestrzeni barw \cite{kisacanin2008embedded}. %TODO OK dodać wyjasnienie SAD
Dodatkową zaletą układów FPGA jest mały pobór mocy, co czyni je niezwykle atrakcyjne dla aplikacji mobilnych -- takich jak drony czy czujniki środowiskowe \cite{garcia2014survey}. 
Układy heterogeniczne łączą w jednej obudowie dwa układy o różanej architekturze i funkcjonalności. 
Przykładem takiego połączenia jest Zynq-7000 firmy Xilinx, który integruje w sobie układ FPGA oraz procesor ARM. 
Największą zaletą takiego rozwiązania jest wysoka przepustowość transferu danych między procesorem a logiką programowalną. 

Niniejsza praca stanowi kontynuację i rozwinięcie pracy inżynierskiej autora.

\section{Cel pracy}

%TODO Coś więcej na podsatwie "specyfikacji" pracy ?
Celem pracy byłą realizacja wbudowanego systemu wizyjnego do detekcji wybranych obiektów (np. ludzi) na podstawie obrazu z kamery termowizyjnej. Zakłada się, że jako platforma obliczeniowa zostanie użyty układ heterogeniczny (np. Zynq firmy Xilinx), który umożliwia implementację sprzętowo-programową algorytmów.
W pierwszym etapie pracy należało dokonać przeglądu i oceny zrealizowanego w ramach pracy inżynierskiej algorytmu, a także przeprowadzić pogłębioną analizę literatury związanej z tematem. Należało zwrócić szczególną uwagę na systemy detekcji pieszych (wspomaganie kierowcy) oraz systemy dla autonomicznych pojazdów latających (dronów). Warto także rozważyć możliwość wykorzystania kontekstu czasowego tj. informacji zawartej w sekwencji obrazów. Na tej podstawie należy wytypować algorytmy, które zostaną zaimplementowane i przetestowane w aplikacji programowej (Matlab/C++/Python/OpenCV). Należało również zgromadzić bazę zdjęć lub sekwencji testowych.

W drugim etapie należało wybrane wspólnie z opiekunem pracy algorytmy zaimplementować w systemie programowo sprzętowym, uruchomić oraz sprawdzić ich skuteczność w różnych scenariuszach testowych.

Oczekiwanym rezultatem pracy był: opis wykorzystania informacji termowizyjnej w detekcji pieszych (systemy wspomagania kierowcy) oraz detekcji ludzi z wykorzystaniem dronów, implementacja i analiza kilku podejść (w aplikacji programowej), implementacja sprzętowo-programowo wybranych algorytmów detekcji.

\section{Struktura pracy}

Pracę rozpoczyna wstęp w którym przestawiono możliwości i zastosowania kamer termowizyjnych. Wskazano również zalety wykorzystania poczerwieni do rozszerzenia spektrum konwencjonalnej kamery wizyjnej – analizy multispektralnej. 
W rozdziale \ref{cha:multispectral} zostały omówione sposoby uzyskania obrazu multisektralnego. Rodziła rozpoczyna się od scharakteryzowania promieniowania podczerwonego oraz metody jego rejestracji. Następnie został zaprezentowany model kamery otworkowej oraz transformacja projekcyjna, które stanowią podstawę teoretyczną do prawidłowego połączenia obrazów z dwóch różnych kamer. 
W rozdziale \ref{cha:algoDetPiesz} przedstawiono ogólny zarys algorytmów służących do detekcji pieszych. W poszczególnych sekcjach zostały omówione poszczególne etapy przetwarzania obrazu i klasyfikacji wraz z ogólnie stosowanymi rozwiązaniami.
Następnie w rozdziale \ref{cha:fpga} zostały omówione sposoby zrównoleglenia obliczeń i możliwość FPGA na przykładzie układu heterogenicznego Zynq-7000 firmy Xilinx.
Kolejny rozdział \ref{cha:przegLiter} zawiera streszczenia kilku wybranych artykułów które poruszają tematykę związaną z niniejszą pracą.
W rozdziale \ref{cha:propSysWiz} przedstawiono koncepcję zaproponowanego rozwiązania wraz z szczegółami dotyczącymi jego wykonania.
Całość zakończono podsumowaniem.


